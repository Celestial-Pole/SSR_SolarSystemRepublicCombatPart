<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <!-- 霰弹枪武器定义 -->
  <ThingDef ParentName="SSR_Weapons_Industrial">
    <defName>CustomShotgun</defName>
    <label>战术霰弹枪</label>
    <description>可发射多发弹丸的自定义霰弹枪</description>
    <graphicData>
      <texPath>Things/Weapons/Penertrating Weapon/QBUthreeoneE</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(1.5,1.5)</drawSize>
    </graphicData>
    <soundInteract>Interact_ChargeLance</soundInteract>
    <statBases>
      <WorkToMake>40000</WorkToMake>
      <Mass>10.0</Mass>
      <AccuracyTouch>0.99</AccuracyTouch>
      <AccuracyShort>0.98</AccuracyShort>
      <AccuracyMedium>0.93</AccuracyMedium>
      <AccuracyLong>0.88</AccuracyLong>
      <RangedWeapon_Cooldown>1.4</RangedWeapon_Cooldown>
    </statBases>
	  <weaponClasses>
      <li>RangedHeavy</li>
      <li>LongShots</li>
    </weaponClasses>
    <weaponTags>
      <li>SpacerGun</li>
    </weaponTags>
    <!-- 使用自定义射击动词 -->
    <verbs>
      <li>
        <verbClass>HJ_SSR.Weapons.Verb_ShootCustom</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Bullet_Penetration</defaultProjectile>
        <burstShotCount>3</burstShotCount>
        <warmupTime>1.2</warmupTime>
        <range>53</range>
        <muzzleFlashScale>19</muzzleFlashScale>
        <requireLineOfSight>false</requireLineOfSight>
      </li>
    </verbs>
    
    <!-- 霰弹枪效果扩展 -->
    <modExtensions>
      <li Class="HJ_SSR.Weapons.ModExtension_Verb_Shotgun">
        <ShotgunPellets>4</ShotgunPellets>               <!-- 每次射击发射x颗弹丸  ,穿透子弹搞太多会叠在一起 -->
       <!-- <extraProjectile>Bullet_Slug</extraProjectile>    发射独头弹  -->
       <!-- <extraProjectileCount>1</extraProjectileCount>     射击发射1颗独头弹 -->
       <spreadAngle>30f</spreadAngle>  <!-- 散射角 ，需要小于180 大于0-->
      </li>
    </modExtensions>
    
  </ThingDef>
  
  <!-- 霰弹定义  普通的小子弹 -->
  <ThingDef ParentName="BaseBullet">
    <defName>Bullet_Shotgun</defName>
    <graphicData>
      <texPath>Things/Projectile/Bullet_AssaultRifle_blue</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>MoteGlow</shaderType>
      <drawSize>(1.2, 2.1)</drawSize>
    </graphicData>
    <projectile>
      <speed>25</speed>
      <damageDef>Bullet</damageDef>
      <damageAmountBase>6</damageAmountBase>
      <stoppingPower>0.5</stoppingPower>
    </projectile>
  </ThingDef>
  
  <!-- 独头弹定义 没意义不要用 -->
  <ThingDef ParentName="BaseBullet">
    <defName>Bullet_Slug</defName>
    <graphicData>
      <texPath>Things/Projectile/Bullet_AssaultRifle_blue</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>MoteGlow</shaderType>
      <drawSize>(1.2, 2.1)</drawSize>
    </graphicData>    
    <projectile>
      <speed>40</speed>
      <damageDef>Bullet</damageDef>
      <damageAmountBase>20</damageAmountBase>
      <armorPenetrationBase>0.3</armorPenetrationBase>
    </projectile>
  </ThingDef>

  
    <ThingDef ParentName="BaseBullet">
      <defName>Bullet_Penetration</defName>
      <label>Penetration sniper bullet</label>
      <graphicData>
        <texPath>Things/Projectile/Bullet_AssaultRifle_blue</texPath>
        <graphicClass>Graphic_Single</graphicClass>
        <shaderType>MoteGlow</shaderType>
        <drawSize>(1.2, 2.1)</drawSize>
      </graphicData>
      <thingClass>HJ_SSR.Weapons.PenetratingBullet</thingClass>
      <projectile>
        <damageDef>Bullet</damageDef>
        <speed>80</speed>
        <damageAmountBase>4</damageAmountBase>
        <armorPenetrationBase>0.83</armorPenetrationBase>
        <preventFriendlyFire>true</preventFriendlyFire>
      </projectile>

      <!-- <comps>
      <li Class="HJ_SSR.Weapons.CompPostPenetrationExplosive">
      </li>
      </comps> -->
      <modExtensions>
          <li Class="HJ_SSR.Weapons.ModExtension_PenetratingProjectile">
          <!-- 穿透造成的伤害系数 即 Damage = 基础伤害 * 0.5 -->
          <overpenDamageMulti>0.1</overpenDamageMulti>
          
          <!-- 子弹终止时的伤害系数 即 Damage = 基础伤害 * 1 -->
          <stopperDamageMulti>1.0</stopperDamageMulti>
          
          <!-- 穿透伤害下限百分比 (至少为原伤害的 20%) -->
          <PenetrationFloorPercentage>0.2</PenetrationFloorPercentage>
          
          <!-- 穿透潜力倍率  初始穿透力 = 基础穿透力 * 1.0 -->
          <penetrationPotentialMultiplier>1.0</penetrationPotentialMultiplier>
          
          <!-- 穿透后弹道偏移角度 (0 度) 穿透时如果具有子弹偏转，偏转角度的范围 0~x° -->
          <postPenetrationDeviationAngle>0.0</postPenetrationDeviationAngle>
          
          <!-- 目标搜索半径范围 ，穿透时如果具有子弹偏转，控制偏转扇形区的范围-->
          <minSearchRadius>1.0</minSearchRadius>
          <maxSearchRadius>1.0</maxSearchRadius>
          
          <!-- 额外射程加成 -->
          <extraRange>1.0</extraRange>
          
          <!-- 不同物体对于子弹穿透力的消耗程度，正相关 -->
          <!-- 消耗值 = 建筑生命值 × buildingEquivalentMulti -->
          <buildingEquivalentMulti>0.005</buildingEquivalentMulti>
          <!-- 消耗值 = (生物护甲值 × 2 × armorEquivalentMulti)-->
          <armorEquivalentMulti>1.0</armorEquivalentMulti>
          <!-- 消耗值 = 体型) × bodysizeEquivalentMulti -->
          <bodysizeEquivalentMulti>0.1</bodysizeEquivalentMulti>
          <!-- 消耗值 = 树木固定 0.1 -->
          <treeEquivalent>0.1</treeEquivalent>
          <!-- 消耗值 = 碎石固定 0.1 -->
          <chunkEquivalent>0.25</chunkEquivalent>
          <!-- 弹跳衰减系数 -->
          <bounceEquivalent>0.2</bounceEquivalent>

          <!-- 开启后停用 穿透后偏移角度、目标搜索内容，默认弹道为射线无偏转 -->
          <straightPassThrough>true</straightPassThrough>

          <!-- 可穿透物体的计数 ，正数为穿透计数停止，负数为已穿透伤害衰减至0为停止条件-->
          <maxPenetratingCount>10</maxPenetratingCount>
          </li>
      </modExtensions>
  </ThingDef>
  
</Defs>
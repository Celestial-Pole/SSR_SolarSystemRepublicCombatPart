<?xml version="1.0" encoding="utf-8"?>
<Defs>
<ThingDef ParentName="SSR_Weapons_Industrial">
  <defName>PenetratingGunExample</defName>
  <label>电磁步枪</label>
  <description>测试贯穿枪</description>
	<uiIconPath>Things/Weapons/Penertrating Weapon/QBUthreeoneE_UI</uiIconPath>
    <graphicData>
      <texPath>Things/Weapons/Penertrating Weapon/QBUthreeoneE</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(1.5,1.5)</drawSize>
    </graphicData>
    <soundInteract>Interact_ChargeLance</soundInteract>
    <recipeMaker>
      <skillRequirements>
        <Crafting>8</Crafting>
      </skillRequirements>
	  <recipeUsers Inherit="False">
			<li>TableMachining</li>
			<li>FabricationBench</li>
		</recipeUsers>
		<displayPriority>400</displayPriority>
    </recipeMaker>
    <thingSetMakerTags>
      <li>RewardStandardQualitySuper</li>
  </thingSetMakerTags>
    <statBases>
      <WorkToMake>40000</WorkToMake>
      <Mass>10.0</Mass>
      <AccuracyTouch>0.99</AccuracyTouch>
      <AccuracyShort>0.98</AccuracyShort>
      <AccuracyMedium>0.93</AccuracyMedium>
      <AccuracyLong>0.88</AccuracyLong>
      <RangedWeapon_Cooldown>1.4</RangedWeapon_Cooldown>
    </statBases>
    <costList>
      <Steel>120</Steel>
	  <Plasteel>25</Plasteel>
      <ComponentIndustrial>8</ComponentIndustrial>
      <Chemfuel>20</Chemfuel>
    </costList>
	<weaponClasses>
      <li>RangedHeavy</li>
	  <li>LongShots</li>
    </weaponClasses>
    <weaponTags>
      <li>SpacerGun</li>
    </weaponTags>
    <verbs>
      <li>
        <verbClass>HJ_SSR.Weapons.Verb_ShootAllowAllCast</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Bullet_Penetration</defaultProjectile>
        <warmupTime>2.3</warmupTime>
        <range>53</range>
        <burstShotCount>1</burstShotCount>
        <soundCast>ChargeLance_Fire</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>19</muzzleFlashScale>
      </li>
    </verbs>
    <tools>
      <li>
        <label>stock</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>11</power>
        <cooldownTime>3.2</cooldownTime>
      </li>
      <li>
        <label>barrel</label>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>14</power>
        <cooldownTime>3.1</cooldownTime>
      </li>
    </tools>
  </ThingDef>


    <ThingDef ParentName="BaseBullet">
      <defName>Bullet_Penetration</defName>
      <label>Penetration sniper bullet</label>
      <graphicData>
        <texPath>Things/Projectile/Bullet_AssaultRifle_blue</texPath>
      <graphicClass>Graphic_Single</graphicClass>
        <shaderType>MoteGlow</shaderType>
        <drawSize>(1.2, 2.1)</drawSize>
      </graphicData>
      <thingClass>HJ_SSR.Weapons.PenetratingBullet</thingClass>
      <projectile>
        <damageDef>Bullet</damageDef>
        <speed>106</speed>
      <damageAmountBase>40</damageAmountBase>
        <armorPenetrationBase>0.83</armorPenetrationBase>
      </projectile>

      <!-- <comps>
      <li Class="HJ_SSR.Weapons.CompPostPenetrationExplosive">
      </li>
      </comps> -->
      <modExtensions>
          <li Class="HJ_SSR.Weapons.ModExtension_PenetratingProjectile">
          <!-- 穿透造成的伤害系数 即 Damage = 基础伤害 * 0.5 -->
          <overpenDamageMulti>0.5</overpenDamageMulti>
          
          <!-- 子弹终止时的伤害系数 即 Damage = 基础伤害 * 1 -->
          <stopperDamageMulti>1.0</stopperDamageMulti>
          
          <!-- 穿透伤害下限百分比 (至少为原伤害的 20%) -->
          <PenetrationFloorPercentage>0.2</PenetrationFloorPercentage>
          
          <!-- 穿透潜力倍率  初始穿透力 = 基础穿透力 * 1.0 -->
          <penetrationPotentialMultiplier>1.0</penetrationPotentialMultiplier>
          
          <!-- 穿透后弹道偏移角度 (0 度) 穿透时如果具有子弹偏转，偏转角度的范围 0~x° -->
          <postPenetrationDeviationAngle>0.0</postPenetrationDeviationAngle>
          
          <!-- 目标搜索半径范围 ，穿透时如果具有子弹偏转，控制偏转扇形区的范围-->
          <minSearchRadius>1.0</minSearchRadius>
          <maxSearchRadius>1.0</maxSearchRadius>
          
          <!-- 额外射程加成 -->
          <extraRange>1.0</extraRange>
          
          <!-- 不同物体对于子弹穿透力的消耗程度，正相关 -->
          <!-- 消耗值 = 建筑生命值 × buildingEquivalentMulti -->
          <buildingEquivalentMulti>0.005</buildingEquivalentMulti>
          <!-- 消耗值 = (生物护甲值 × 2 × armorEquivalentMulti)-->
          <armorEquivalentMulti>1.0</armorEquivalentMulti>
          <!-- 消耗值 = 体型) × bodysizeEquivalentMulti -->
          <bodysizeEquivalentMulti>0.1</bodysizeEquivalentMulti>
          <!-- 消耗值 = 树木固定 0.1 -->
          <treeEquivalent>0.1</treeEquivalent>
          <!-- 消耗值 = 碎石固定 0.1 -->
          <chunkEquivalent>0.25</chunkEquivalent>
          <!-- 弹跳衰减系数 -->
          <bounceEquivalent>0.2</bounceEquivalent>

          <!-- 开启后停用 穿透后偏移角度、目标搜索内容，默认弹道为射线无偏转 -->
          <straightPassThrough>true</straightPassThrough>

          <!-- 可穿透物体的计数 ，正数为穿透计数停止，负数为已穿透伤害衰减至0为停止条件-->
          <maxPenetratingCount>10</maxPenetratingCount>
          </li>
      </modExtensions>
  </ThingDef>
  
</Defs>